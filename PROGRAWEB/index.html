<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Equipo 2 - Turismo</title>
   
    <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
    <script
      src="https://use.fontawesome.com/releases/v5.15.1/js/all.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Varela+Round"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <style>

    </style>
  </head>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>



<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-auth.js"></script>

<style>
  #listAutenticado{
    display: none;
  }
</style>
<script>



   
</script>

  <body id="page-top">

    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top"
          >Toluca Diviértete</a
        >
        <button
          class="navbar-toggler navbar-toggler-right"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">Acerca de</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#destinos"
                >Destinos</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#signup">Nosotros</a>
            </li>
            <li class="nav-item" id="listRegistro">
              <a class="nav-link" data-toggle="collapse" data-target="#collapseLogin" href="#login">Iniciar Sesión</a>
              <div class="collapse" id="collapseLogin">
                <div class="card card-body">
                  <p><i class="fa fa-sign-in"></i>Iniciar Sesión</p>
                  <div class="formLogin">
                    <div class="form-group" align="left">  
                      <label><i class="fa fa-user"></i>Correo Electrónico</label>
                      <input type="email" class="form-control" name="txtCorreoLog" placeholder="Correo" id="correoLogin" minlength="8" required/>
                  </div>
                  <div class="form-group" align="left">
                      <label><i class="fa fa-eye-slash"></i>Contraseña</label>
                      <input type="password" class="form-control" name="txPasstLog" placeholder="Contraseña" id="passLogin" minlength="6" required/>
                  </div>
                  <p>¿No te haz Registrado? <a href="registro.html">Registro</a></p>
                  <button type="submit" class="btn btn-primary" align="center" id="btnIngresar">
                      <i class="fa fa-sign-in"></i> Iniciar Sesión
                  </button>
                </div>  
                </div>
            </li>
            <li class="nav-item" id="listAutenticado">
              <a class="nav-link" data-toggle="collapse" data-target="#collapseAutenticado" id="tabNombre"></a>
              <div class="collapse" id="collapseAutenticado">
                <div class="card card-body">
                  <div class="hover-overlay ripple shadow-1-strong rounded" align="center" style="margin-bottom: 1em;">
                    <a href="perfil.html"><i class="fa fa-user"></i>Mi Perfil</a>
                  </div>
                  <button class="btn btn-danger" align="center" id="btnSalir">
                      <i class="fa fa-sign-out"></i> Cerrar Sesión
                  </button>
                </div>  
                </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead">
      <div class="container d-flex h-100 align-items-center">
        <div class="mx-auto text-center">
          <h1 class="mx-auto my-0 text-uppercase">Toluca de Lerdo</h1>
          <h2 class="text-white-50 mx-auto mt-2 mb-5">
            Orgullosa capital del Estado de México
          </h2>
          <a class="btn btn-primary js-scroll-trigger" href="#destinos"
            >Iniciar</a
          >
        </div>
      </div>
    </header>
    <!-- About-->
    <section class="about-section text-center" id="about">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h2 class="text-white mb-4">Guía turística de la Ciudad de Toluca</h2>
            <p class="text-white-50">
              Encuentra los mejores lugares a visitar de la ciudad de Toluca y sus alrededores.
            </p>
          </div>
        </div>
      </div>
      <img class="img-fluid" src="assets/img/tolucanoche.png" alt="" />
    </section>
    <!-- Projects-->
    <section class="projects-section bg-light" id="destinos">
      <div class="container">
        <!-- Featured Project Row-->
        <div class="row align-items-center no-gutters mb-4 mb-lg-5">
          <div class="col-xl-8 col-lg-7">
            <img
              class="img-fluid mb-3 mb-lg-0"
              src="assets/img/bg-masthead2.jpg"
              alt=""
            />
          </div>
          <div class="col-xl-4 col-lg-5">
            <div class="featured-text text-center text-lg-left">
              <h4>Toluca</h4>
              <p class="text-black-50 mb-0">
                La capital del Estado de México cuenta con un alto nivel
                cultural, combinando sus paseos coloniales con la vida en una
                ciudad industrial y moderna.
              </p>
            </div>
          </div>
        </div>

        <div class="album py-5 bg-light">
          <div class="container">
            <div class="row">

              <!-- Project One Row-->
                <div class="col-md-4">
                <x-card class="mb-4 shadow-sm">
                  <x-slot name="image">
                    <img
                      class="rounded-top img-fluid"
                      src="assets/img/demo-image-01.jpg"
                      alt=""
                    />
                  </x-slot>

                  <x-slot name="body">
                    <x-headline text="This is a title" />

                    <div class="rounded-bottom bg-white text-center project">
                      <div class="d-flex">
                        <div
                          class="project-text my-auto text-center text-lg-left"
                        >
                          <h4>Nevado de Toluca</h4>
                          <p class="mb-0 text-50">
                            El Xinantécatl o más conocido como Nevado de Toluca, es el cuarto volcán más alto del país.
                          </p>
                          <hr class="d-none d-lg-block mb-0 ml-0" />
                        </div>
                      </div>

                      <div
                        class="d-flex justify-content-between align-items-center"
                      >
                        <div class="btn-group">
                          <button
                            type="button"
                            class="btn btn-sm btn-outline-secondary"
                            onclick="window.location.href='Nevado.html';"
                          >
                            Ver
                          </button>

                        </div>
                      </div>
                    </div>
                  </x-slot>
                </x-card>
              </div>

              <!-- Project Two Row-->
              <div class="col-md-4">
                <x-card class="mb-4 shadow-sm">
                  <x-slot name="image">
                    <img
                      class="rounded-top img-fluid"
                      src="assets/img/demo-image-02.jpg"
                      alt=""
                    />
                  </x-slot>

                  <x-slot name="body">
                    <x-headline text="This is a title" />

                    <div class="rounded-bottom bg-white text-center project">
                      <div class="d-flex">
                        <div
                          class="project-text my-auto text-center text-lg-left"
                        >
                          <h4>Los Portales</h4>
                          <p class="mb-0 text-50">
                            Son un atractivo turístico obligado de la ciudad. Considerados como los más largos de la República Mexicana.
                          </p>
                          <hr class="d-none d-lg-block mb-0 ml-0" />
                        </div>
                      </div>

                      <div
                        class="d-flex justify-content-between align-items-center"
                      >
                        <div class="btn-group">
                          <button
                            type="button"
                            class="btn btn-sm btn-outline-secondary"
                            onclick="window.location.href='Portales.html';"
                          >
                            Ver
                          </button>

                        </div>
                      </div>
                    </div>
                  </x-slot>
                </x-card>
              </div>

              <!-- Project Three Row-->
              <div class="col-md-4">
                <x-card class="mb-4 shadow-sm">
                  <x-slot name="image">
                    <img
                      class="rounded-top img-fluid"
                      src="assets/img/demo-image-03.jpg"
                      alt=""
                    />
                  </x-slot>

                  <x-slot name="body">
                    <x-headline text="This is a title" />

                    <div class="rounded-bottom bg-white text-center project">
                      <div class="d-flex">
                        <div
                          class="project-text my-auto text-center text-lg-left"
                        >
                          <h4>Cosmovitral</h4>
                          <p class="mb-0 text-50">
                            Construido en lo que fuera el Mercado 16 de Septiembre. Con un monumental vitral que resplandece en su interior.
                          </p>
                          <hr class="d-none d-lg-block mb-0 ml-0" />
                        </div>
                      </div>

                      <div
                        class="d-flex justify-content-between align-items-center"
                      >
                        <div class="btn-group">
                          <button
                            type="button"
                            class="btn btn-sm btn-outline-secondary"
                            onclick="window.location.href='Cosmovitral.html';"
                          >
                            Ver
                          </button>

                        </div>
                      </div>
                    </div>
                  </x-slot>
                </x-card>
              </div>

            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Signup-->
    <section class="signup-section" id="signup">
      <div class="container">
        <div class="row">
          <div class="col-md-10 col-lg-8 mx-auto text-center">
            <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
            <h2 class="text-white mb-5" >¡Suscríbete para recibir actualizaciones!</h2>
            <form class="form-inline d-flex">
              <input
                    type="email"
                    id="inputEmail"
                    placeholder="Ingrese dirección de correo electrónico..."
                    style="width: 40em;"
                  />
              <button class="btn btn-primary mx-auto" type="submit" onclick = "InsertaSus()">
                Subscribirse
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- Contact-->
    <section class="contact-section bg-black">
      <div class="container">
        <div class="row">

          <div class="col-md-4 mb-3 mb-md-0">
            <div class="card py-4 h-100">
              <div class="card-body text-center">
                <img class="rounded img-fluid mb-3 mb-lg-0" src="assets/img/Avatar1.jpg" alt=""/>
                <h4 class="text-uppercase m-0" >Alberto Castillo Pedroza</h4>
                <hr class="my-4" />
                <div class="small text-black-50">
                  Número de control: 17280351
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-3 mb-md-0">
            <div class="card py-4 h-100">
              <div class="card-body text-center">
                <img class="rounded img-fluid mb-3 mb-lg-0" src="assets/img/Avatar2.jpg" alt=""/>
                <h4 class="text-uppercase m-0">Mario Enrique Martínez Apolinar</h4>
                <hr class="my-4" />
                <div class="small text-black-50">
                 Número de control: 16280648
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-3 mb-md-0">
            <div class="card py-4 h-100">
              <div class="card-body text-center">
                <img class="rounded img-fluid mb-3 mb-lg-0" src="assets/img/Avatar.jpg" alt=""/>
                <h4 class="text-uppercase m-0">Nombre</h4>
                <hr class="my-4" />
                <div class="small text-black-50">Número de control</div>
              </div>
            </div>
          </div>
        </div>
        <div class="social d-flex justify-content-center">
          <a class="mx-2" href="https://github.com/chocoboleda/ProgWebTurismo/"><i class="fab fa-github"></i></a>
        </div>
      </div>
    </section>
    <!-- Footer-->
    <footer class="footer bg-black small text-center text-white-50">
      <div class="container">Copyright © Toluca Diviértete 2021</div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script>
      var firebaseConfig = {
            apiKey: "AIzaSyDc9LqktSq5joZke4iOH_XvqcKup_Je2aQ",
            authDomain: "sitio-turistico-prog-web.firebaseapp.com",
            projectId: "sitio-turistico-prog-web",
            storageBucket: "sitio-turistico-prog-web.appspot.com",
            messagingSenderId: "943450679611",
            appId: "1:943450679611:web:4e11f096b4f336d6236f1e",
            measurementId: "G-E7N3JRL0GC"
          };
          // Initialize Firebase
          var inicial = firebase.initializeApp(firebaseConfig);
          var database =  inicial.database();
          var storage = inicial.storage();
          var auth = inicial.auth();
          var usuarioLogin;
          var usuarioid;
      //cambiar navbar
     auth.onAuthStateChanged(async function(user){
        if (user){
          document.getElementById("listRegistro").style.display="none";
          document.getElementById("listAutenticado").style.display="block";
          var userAuth = auth.currentUser;
          if(userAuth!=null){
            await database.ref(`user/${user.uid}`).once("value").then(function (snapshot){
                 usuarioLogin = snapshot.val();
            });
            document.getElementById("tabNombre").innerHTML=usuarioLogin.nombre;
          }
        }else{
          document.getElementById("listRegistro").style.display="block";
          document.getElementById("listAutenticado").style.display="none";
        }
      })

      //autenticacion usuario
      $("#btnIngresar").click(function(){
        var correoLogin = document.getElementById("correoLogin").value;
        var passLogin = document.getElementById("passLogin").value;

        if(correoLogin!==""&&passLogin!==""){
          auth.setPersistence(firebase.auth.Auth.Persistence.SESSION).then(function(){
            auth.signInWithEmailAndPassword(correoLogin,passLogin).then(function (user){
          }).catch(function(error){
            var error = error.message;
            setTimeout(window.alert("error login: "+error),4000);
          });
          }).catch(function(){
            var error = error.message;
            setTimeout(window.alert("error sesión: "+error),4000);
          });
        }
      });

      $("#btnSalir").click(function(){
        auth.signOut().catch(function(error){
            var error = error.message;
            setTimeout(window.alert("error: "+error),4000);
          });
      });

      function InsertaSus(){
        user ={
            correo: document.getElementById("inputEmail").value
        }
        database.ref("Suscriptor").set(user);
      }
    </script>
  </body>
</html>
